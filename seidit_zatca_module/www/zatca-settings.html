{% extends "templates/web.html" %}

{% block page_content %}
<div class="page-content-wrapper">
    <div class="page-content">
        <div class="page-header">
            <h1>ZATCA Settings</h1>
        </div>
        <div class="page-body">
            <div class="row">
                <div class="col-md-12">
                    <div class="card">
                        <div class="card-header">
                            <h3>SEIDiT ZATCA Configuration</h3>
                        </div>
                        <div class="card-body">
                            <form id="zatca-settings-form">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="vat_number">VAT Number</label>
                                            <input type="text" class="form-control" id="vat_number" name="vat_number" value="{{ settings.vat_number or '' }}">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="company_name">Company Name</label>
                                            <input type="text" class="form-control" id="company_name" name="company_name" value="{{ settings.company_name or '' }}">
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="api_key">API Key</label>
                                            <input type="password" class="form-control" id="api_key" name="api_key" value="{{ settings.api_key or '' }}">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="secret_key">Secret Key</label>
                                            <input type="password" class="form-control" id="secret_key" name="secret_key" value="{{ settings.secret_key or '' }}">
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="base_url">Base URL</label>
                                            <input type="text" class="form-control" id="base_url" name="base_url" value="{{ settings.base_url or 'https://gw-fatoorah.zatca.gov.sa/e-invoicing/developer-portal' }}">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <div class="form-check">
                                                <input type="checkbox" class="form-check-input" id="test_mode" name="test_mode" {% if settings.test_mode %}checked{% endif %}>
                                                <label class="form-check-label" for="test_mode">Test Mode</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="mt-4">
                                    <button type="submit" class="btn btn-primary">Save Settings</button>
                                    <button type="button" class="btn btn-secondary" onclick="testConnection()">Test Connection</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
function testConnection() {
    // Add JavaScript for connection testing
    console.log('Testing ZATCA connection...');
}

document.getElementById('zatca-settings-form').addEventListener('submit', function(e) {
    e.preventDefault();
    // Add JavaScript for form submission
    console.log('Saving ZATCA settings...');
});
</script>
{% endblock %} 